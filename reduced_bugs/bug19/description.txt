error in checking profile (in parser?)

--> OWL2ELProfile().checkOntology(ont) returns a violation, although this should be allowed

datatype definition is allowed in EL (see grammar https://www.w3.org/TR/owl2-profiles/#OWL_2_EL_2) (but defined datatype is not allowed to be used)

problem: defined datatype is checked without considering the context, i.e. the restrictions on "DataRange" are also applied to "DataType"; the call where the datatypedefinitionaxiom is checked is in https://github.com/owlcs/owlapi/blob/0e7166f4df44d40dbe66d74c3e8710ef4fd5ee4b/api/src/main/java/org/semanticweb/owlapi/util/StructureWalker.java#L746-L750 but likely, one has to modify the ProfileVisitor where checking the datatype is reduced to checking the dataRanges allowed in EL (without the context of the datatype) https://github.com/owlcs/owlapi/blob/0e7166f4df44d40dbe66d74c3e8710ef4fd5ee4b/api/src/main/java/org/semanticweb/owlapi/profiles/ProfileVisitor.java#L203 where 


call:
OWLOntologyDocumentSource source = new FileDocumentSource(ontFile, new FunctionalSyntaxDocumentFormat());
OWLOntologyManager manager = OWLManager.createOWLOntologyManager();
ont = manager.loadOntologyFromOntologyDocument(source);


OWLProfileReport profileReport = new OWL2ELProfile().checkOntology(ont);
List<OWLProfileViolation> violations = profileReport.getViolations();




grammar version: functional_OWL_EL.bnf  with functional_owl_el.isla with script generator_OWL_EL.py

found on 25.11.2024


reported:

